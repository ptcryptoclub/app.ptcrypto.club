{% extends "layout.html" %}


{% block info_line %}
<div class="container border-light border-bottom">
    <div class="row">
        <div class="col">
            <div class="row justify-content-start">
                <div class="col-auto"><small><a href="#" class="text-decoration-none text-light">Line chart</a></small>
                </div>
                <div class="col-auto"><small><a href="#" class="text-decoration-none text-muted">Ohlc chart</a></small>
                </div>
                <div class="col-auto"><small><a href="#" class="text-decoration-none text-muted">Vtp chart</a></small>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}


{% block content %}

<script src="{{url_for('static', filename='amcharts4/core.js')}}"></script>
<script src="{{url_for('static', filename='amcharts4/charts.js')}}"></script>
<script src="{{url_for('static', filename='amcharts4/themes/dark.js')}}"></script>
<script src="{{url_for('static', filename='amcharts4/themes/animated.js')}}"></script>
<script src="{{url_for('static', filename='js/historical-data.js')}}"></script>
<div class="container">
    <form class="mt-3" action="{{ url_for('historical_charts_line') }}" method="GET">
        <div class="row align-items-center mb-2">
            <div class="col-auto">
                {% set base = request.args.get('base') %}
                {% if base == None %}
                <select id="base" name="base" class="form-control form-control-sm text-light bg-dark border border-dark rounded-lg">
                    <option selected value="btc">BTC</option>
                    <option value="eth">ETH</option>
                </select>
                {% elif base == 'btc' %}
                <select id="base" name="base" class="form-control form-control-sm text-light bg-dark border border-dark rounded-lg">
                    <option selected value="btc">BTC</option>
                    <option value="eth">ETH</option>
                </select>
                {% else %}
                <select id="base" name="base" class="form-control form-control-sm text-light bg-dark border border-dark rounded-lg">
                    <option value="btc">BTC</option>
                    <option selected value="eth">ETH</option>
                </select>
                {% endif %}
            </div>
            <div class="col-auto">
                <select id="quote" name="quote" class="form-control form-control-sm text-light bg-dark border border-dark rounded-lg">
                    <option selected value="eur">EUR</option>
                </select>
            </div>
            <div class="col-auto">
                <select id="market" name="market" class="form-control form-control-sm text-light bg-dark border border-dark rounded-lg">
                    <option selected value="kraken">kraken</option>
                </select>
            </div>
        </div>
        <div class="row align-items-center">
            <div class="col-auto mb-2">
                <div class="row no-gutters align-items-center">
                    <div class="col-auto">
                        <small class="text-light mr-2">Start:</small>
                    </div>
                    <div class="col-auto">
                        <input class="bg-dark text-light border border-dark rounded-lg form-control form-control-sm"
                               type="date" id="start" name="start" value="{{request.args.get('start')}}">
                    </div>
                </div>
            </div>
            <div class="col-auto mb-2">
                <div class="row no-gutters align-items-center">
                    <div class="col-auto">
                        <small class="text-light mr-2">End:</small>
                    </div>
                    <div class="col-auto">
                        <input class="bg-dark text-light border border-dark rounded-lg form-control form-control-sm"
                               type="date" id="end" name="end" value="{{request.args.get('end')}}">
                    </div>
                </div>
            </div>
            <div class="col-sm-auto mb-2">
                <button type="submit" class="btn btn-sm btn-secondary text-light">refresh</button>
            </div>
        </div>
    </form>
    <div>
        <div id="historical-line" style="height: 600px;"></div>
        <script>
            historical_line ('historical-line')


        </script>
    </div>
</div>

{% endblock %}